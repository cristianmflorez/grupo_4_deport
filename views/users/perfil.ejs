<!DOCTYPE html>
<html lang="en">
	<%- include('./../partials/head') %>
	<body>
		<%- include('./../partials/header') %> <%- include('./../partials/nav') %>

		<main class="container">
			<h2 class="p-3 text-center">Perfil</h2>
			<form action="/users/perfil/<%= locals.userLogged.id %>?_method=put" method="post" enctype="multipart/form-data">
				<% if (locals.userLogged) { %>
					<div class="mb-3">
						<img src="/imagenes/users/<%= locals.userLogged.img %>" alt="imagen de perfil" class="img-thumbnail w-25 h-25">
					</div>
					<div class="mb-3">
						<label for="imagen" class="form-label text-primary">
							<strong>Imagen (opcional)</strong>
						</label>
						<input
							id="imagen"
							type="file"
							name="imagen"
							class="form-control"
							aria-label="file example"
						/>
					</div>
				<% } %>

                <div class="mb-3">
					<label for="nombre" class="form-label text-primary"
						><strong>Nombre completo</strong></label
					>
					<input
						type="text"
						class="form-control"
						id="nombre"
                        <% if (locals.userLogged) { %>
                            value="<%= locals.userLogged.name %> "
                        <% } else { %>  
                            placeholder="Nombre Apellido"
                        <% } %>
						name="nombre"
					/>
				</div>

				<div class="mb-3">
					<label for="correo" class="form-label text-primary"
						><strong>Correo electronico</strong></label
					>
					<input
						type="email"
						class="form-control"
						id="correo"
                        <% if (locals.userLogged) { %>
                            value="<%= locals.userLogged.email %> "
                        <% } else { %>  
						    placeholder="test@gmail.com"
                        <% } %>
                        name="correo"
						required
					/>
				</div>

				<div class="mb-3">
					<label for="telefono" class="form-label text-primary"
						><strong>Telefono</strong></label
					>
					<input
						type="tel"
						class="form-control"
						id="telefono"
                        <% if (locals.userLogged) { %>
                            value="<%= locals.userLogged.tel %> "
                        <% } else { %>
						    placeholder="11-1234-1234"
                        <% } %> 
                        name="telefono"
					/>
				</div>

				<div class="mb-3">
					<label for="direccion" class="form-label text-primary"
						><strong>Direccion</strong></label
					>
					<input
						type="text"
						class="form-control"
						id="direccion"
						minlength="4"
                        <% if (locals.userLogged) { %>
                            value="<%= locals.userLogged.address %> "
                        <% } else { %>
						    placeholder="calle falsa 123"
                        <% } %> 
                        name="direccion"
					/>
				</div>

                <div class="mb-3">
					<label for="correo" class="form-label text-primary"
						><strong>Pais</strong></label
					>
					<select
						class="form-select"
						aria-label="Default select example"
						name="pais"
					>
						<option disabled>Tu ubicación</option>
						<option value="Argentina" <%= locals.userLogged.country == "Argentina"? "selected" : "" %> >Argentina</option>
						<option value="Bolivia" <%= locals.userLogged.country == "Bolivia"? "selected" : "" %> >Bolivia</option>
						<option value="Brazil" <%= locals.userLogged.country == "Brazil"? "selected" : "" %> >Brasil</option>
						<option value="Chile" <%= locals.userLogged.country == "Chile"? "selected" : "" %> >Chile</option>
						<option value="Colombia" <%= locals.userLogged.country == "Colombia"? "selected" : "" %> >Colombia</option>
						<option value="Ecuador" <%= locals.userLogged.country == "Ecuador"? "selected" : "" %> >Ecuador</option>
						<option value="Paraguay" <%= locals.userLogged.country == "Paraguay"? "selected" : "" %> >Paraguay</option>
						<option value="Peru" <%= locals.userLogged.country == "Peru"? "selected" : "" %> >Perú</option>
						<option value="Uruguay" <%= locals.userLogged.country == "Uruguay"? "selected" : "" %> >Uruguay</option>
						<option value="Venezuela" <%= locals.userLogged.country == "Venezuela"? "selected" : "" %> >Venezuela</option>
					</select>
				</div>
                
				<div class="mb-3 d-flex justify-content-between">
					<a href="/" class="btn btn-secondary col-4">Volver</a>
					<button type="submit" class="btn btn-secondary col-4">Guardar</button>
				</div>
			</form>
			<form
				action="/users/delete/<%= locals.userLogged.id %>?_method=delete"
				method="post"
				class="mb-3 d-flex justify-content-end"
			>
				<button type="submit" class="btn btn-danger col-4">
					Eliminar cuenta
				</button>
			</form>
		</main>

		<%- include('./../partials/footer') %>
	</body>
</html>
